<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<StackPane fx:id="dialogOverlay" xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.group_2.ui.finance.StandingOrdersDialogController"
           visible="false" managed="false"
           style="-fx-background-color: rgba(0,0,0,0.5);">

    <!-- Dialog Card -->
    <VBox styleClass="card" spacing="0"
          style="-fx-max-width: 950; -fx-max-height: 550; -fx-padding: 0; -fx-background-color: white; -fx-background-radius: 16; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 20, 0, 0, 4);">
        
        <!-- Header -->
        <HBox alignment="CENTER" spacing="15" style="-fx-padding: 20 24; -fx-border-color: #e5e7eb; -fx-border-width: 0 0 1 0; -fx-background-color: #f9fafb; -fx-background-radius: 16 16 0 0;">
            <Button text="âœ•" onAction="#closeDialog"
                    style="-fx-background-color: transparent; -fx-text-fill: #6b7280; -fx-font-size: 20px; -fx-cursor: hand; -fx-padding: 4;"/>
            <Text text="ðŸ”„ Standing Orders" style="-fx-font-size: 18px; -fx-font-weight: 700; -fx-fill: #111827;"/>
            <Region HBox.hgrow="ALWAYS"/>
        </HBox>

        <!-- Content -->
        <VBox spacing="15" style="-fx-padding: 20 24;" VBox.vgrow="ALWAYS">
            <Text text="Active recurring transactions" style="-fx-font-size: 14px; -fx-fill: #6b7280;"/>
            
            <!-- Standing Orders Table -->
            <TableView fx:id="standingOrdersTable" VBox.vgrow="ALWAYS" styleClass="table-view">
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                </columnResizePolicy>
                <columns>
                    <TableColumn fx:id="descriptionColumn" text="Description" prefWidth="140"/>
                    <TableColumn fx:id="payerColumn" text="Payer" prefWidth="100"/>
                    <TableColumn fx:id="debtorsColumn" text="Debtors" prefWidth="140"/>
                    <TableColumn fx:id="amountColumn" text="Amount" prefWidth="80"/>
                    <TableColumn fx:id="frequencyColumn" text="Frequency" prefWidth="110"/>
                    <TableColumn fx:id="nextExecutionColumn" text="Next" prefWidth="90"/>
                    <TableColumn fx:id="actionsColumn" text="Actions" prefWidth="80"/>
                </columns>
            </TableView>
            
            <!-- Empty State -->
            <VBox fx:id="emptyState" alignment="CENTER" spacing="10" visible="false" managed="false" VBox.vgrow="ALWAYS">
                <Text text="ðŸ“­" style="-fx-font-size: 48px;"/>
                <Text text="No standing orders yet" style="-fx-font-size: 16px; -fx-font-weight: 600; -fx-fill: #374151;"/>
                <Text text="Create a standing order from the transaction dialog" style="-fx-font-size: 13px; -fx-fill: #9ca3af;"/>
            </VBox>
        </VBox>

        <!-- Footer -->
        <HBox alignment="CENTER_RIGHT" spacing="10" style="-fx-padding: 16 24; -fx-border-color: #e5e7eb; -fx-border-width: 1 0 0 0;">
            <Button text="Close" onAction="#closeDialog"
                    style="-fx-background-color: #f3f4f6; -fx-text-fill: #374151; -fx-background-radius: 8; -fx-padding: 10 24; -fx-cursor: hand; -fx-font-weight: 600;"/>
        </HBox>
    </VBox>
</StackPane>
